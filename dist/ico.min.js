/*! icojs v0.1.0 (c) 2014 egy186; MIT license */
!function(a){"use strict";var b=function(b,e){if("function"!=typeof e)throw new TypeError(typeof e+" is not a function");var f=new DataView(b);if(0!==f.getUint16(0,!0)||1!==f.getUint16(2,!0))return e(0===f.getUint16(0,!0)&&0===f.getUint16(2,!0)?new Error("Not ICO but CUR"):new Error("Not valid ICO"));for(var g=f.getUint16(4,!0),h=[],i=0;g>i;i++)h.push({bWidth:f.getUint8(6+16*i)||256,bHeight:f.getUint8(7+16*i)||256,dwBytesInRes:f.getUint32(14+16*i,!0),dwImageOffset:f.getUint32(18+16*i,!0)});for(var j=[],i=0;g>i;i++)j.push(d(b.slice(6+16*i,22+16*i),b.slice(h[i].dwImageOffset,h[i].dwImageOffset+h[i].dwBytesInRes)));for(var k=0,l=[],i=0;g>i;i++)l.push(new Image),l[i].onload=function(){k++,k===g&&c(h,l,e)},l[i].src=a.URL.createObjectURL(new Blob([j[i]]))};function c(a,b,c){for(var d=[],e=0;e<b.length;e++){var f=document.createElement("canvas");f.width=a[e].bWidth,f.height=a[e].bHeight;var g=f.getContext("2d");g.drawImage(b[e],0,0),d.push({data:f.toDataURL(),width:a[e].bWidth,height:a[e].bHeight})}return c(null,d)}function d(a,b){var c=new Uint8Array(6+a.byteLength+b.byteLength);c.set(new Uint8Array(a),6),c.set(new Uint8Array(b),6+a.byteLength);var d=new DataView(c.buffer);return d.setUint16(2,1,!0),d.setUint16(4,1,!0),d.setUint32(14,b.byteLength,!0),d.setUint32(18,22,!0),c.buffer}a.ico={Parse:b}}(this);
//# sourceMappingURL=ico.min.js.map