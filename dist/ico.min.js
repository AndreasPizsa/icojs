!function t(r,e,n){function i(a,f){if(!e[a]){if(!r[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[a]={exports:{}};r[a][0].call(h.exports,function(t){var e=r[a][1][t];return i(e?e:t)},h,h.exports,t,r,e,n)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(t,r){(function(e){"use strict";var n=t("./extractOne"),i=t("./util"),o=t("./png"),a=e.ICO,f={isICO:function(t){if(!(t instanceof ArrayBuffer))return!1;var r=new DataView(t);return 0===r.getUint16(0,!0)&&1===r.getUint16(2,!0)},parse:function(t){var r=new DataView(t);if(0!==r.getUint16(0,!0)||1!==r.getUint16(2,!0))throw new Error("buffer is not ico");var e,a,f,u,c,h,d,s,g,w=[];for(e=0;e<r.getUint16(4,!0);e++){switch(c=n(t,e),c.and=i.to1bitArray(c.and),d=c.width*c.bit/8,d%4!==0&&(d+=4-d%4),d*=8/c.bit,s=c.width/8,s%4!==0&&(s+=4-s%4),s*=8,g=new Uint8ClampedArray(c.width*c.height*4),c.bit){case 1:for(c.xor=i.to1bitArray(c.xor),u=0,a=c.height-1;a>=0;a--)for(f=0;f<c.width;f++)h=c.colors[c.xor[a*d+f]],g[4*u]=h[2],g[4*u+1]=h[1],g[4*u+2]=h[0],g[4*u+3]=c.and[a*s+f]?0:255,u++;break;case 4:for(c.xor=i.to4bitArray(c.xor),u=0,a=c.height-1;a>=0;a--)for(f=0;f<c.width;f++)h=c.colors[c.xor[a*d+f]],g[4*u]=h[2],g[4*u+1]=h[1],g[4*u+2]=h[0],g[4*u+3]=c.and[a*s+f]?0:255,u++;break;case 8:for(c.xor=i.to8bitArray(c.xor),u=0,a=c.height-1;a>=0;a--)for(f=0;f<c.width;f++)h=c.colors[c.xor[a*d+f]],g[4*u]=h[2],g[4*u+1]=h[1],g[4*u+2]=h[0],g[4*u+3]=c.and[a*s+f]?0:255,u++;break;case 24:for(c.xor=i.to8bitArray(c.xor),u=0,a=c.height-1;a>=0;a--)for(f=0;f<c.width;f++)g[4*u]=c.xor[3*(a*d+f)+2],g[4*u+1]=c.xor[3*(a*d+f)+1],g[4*u+2]=c.xor[3*(a*d+f)],g[4*u+3]=c.and[a*s+f]?0:255,u++;break;case 32:for(c.xor=i.to8bitArray(c.xor),u=0,a=c.height-1;a>=0;a--)for(f=0;f<c.width;f++)g[4*u]=c.xor[4*(a*d+f)+2],g[4*u+1]=c.xor[4*(a*d+f)+1],g[4*u+2]=c.xor[4*(a*d+f)],g[4*u+3]=1===c.and[a*s+f]||1===c.xor[4*(a*d+f)+3]?0:c.xor[4*(a*d+f)+3]>1?c.xor[4*(a*d+f)+3]:255,u++}w.push({bit:c.bit,width:c.width,height:c.height,buffer:o.encode({width:c.width,height:c.height,data:g})})}return w},noConflict:function(){return e.ICO=a,this}};r.exports=f,e.ICO=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./extractOne":2,"./png":3,"./util":4}],2:[function(t,r){"use strict";var e=t("./util"),n=function(t,r){var n=new DataView(t),i={width:n.getUint8(6+16*r)||256,height:n.getUint8(7+16*r)||256,colorCount:n.getUint8(8+16*r)},o=n.getUint32(14+16*r,!0),a=n.getUint32(18+16*r,!0),f=t.slice(a,a+o),u=new DataView(f),c=u.getUint32(0,!0),h=u.getUint32(32,!0);i.bit=u.getUint16(14,!0),i.colors=[];for(var d=0;h>d;d++)i.colors.push(e.to8bitArray(f.slice(c+4*d,c+4*d+4)));var s=c+4*h,g=i.width*i.bit/8;g%4!==0&&(g+=4-g%4);var w=s+g*i.height;i.xor=f.slice(s,w);var l=i.width/8;return l%4!==0&&(l+=4-l%4),i.and=f.slice(w,w+l*i.height),i};r.exports=n},{"./util":4}],3:[function(t,r){(function(e){"use strict";var n=e.document?function(t,r){var n=e.document.createElement("canvas");return n.width=t,n.height=r,n}:function(r,e){var n=t("canvas");return new n(r,e)},i=e.atob?e.atob:function(r){var e=t("buffer").Buffer;return new e(r,"base64").toString("binary")},o=function(t){for(var r=i(t.replace(/.+,/,"")),e=new Uint8Array(r.length),n=0;n<r.length;n++)e[n]=r.charCodeAt(n);return e.buffer},a={encode:function(t){for(var r=t.data,e=n(t.width,t.height),i=e.getContext("2d"),a=i.createImageData(t.width,t.height),f=a.data,u=0;u<f.length;u++)f[u]=r[u];return i.putImageData(a,0,0),o(e.toDataURL())}};r.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:void 0,canvas:void 0}],4:[function(t,r){"use strict";var e={to1bitArray:function(t){for(var r=new Uint8Array(t),e="",n=0;n<r.byteLength;n++)e+=("000000000"+r[n].toString(2)).slice(-8);return e.split("").map(function(t){return parseInt(t,2)})},to4bitArray:function(t){for(var r=new Uint8Array(t),e="",n=0;n<r.byteLength;n++)e+=("00"+r[n].toString(16)).slice(-2);return e.split("").map(function(t){return parseInt(t,16)})},to8bitArray:function(t){for(var r=new Uint8Array(t),e=[],n=0;n<r.byteLength;n++)e.push(r[n]);return e}};r.exports=e},{}]},{},[1]);
//# sourceMappingURL=ico.min.js.map